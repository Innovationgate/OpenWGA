<html>
<!-- Generated by AceHTML Freeware http://freeware.acehtml.com -->
<!-- Creation date: 26.05.2003 -->
<head>
<title>Test itemencoding</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title></title>
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="oweise@bannkreis.de">
<meta name="generator" content="AceHTML 5 Freeware">
</head>
<body>

<tml:range var="unencoded">Hallo <b>User</b>!</tml:range>


In diesen Text muss das Wort "User" fett gedruckt sein:<br/>
<p id="userbold">
<tml:item name="unencoded"/>
</p>

In diesen Text müssen die HTML-Tags um das Wort "User" im Klartext ausgegeben werden:<br/>
<p id="userclear">
<tml:range var="encoded" encode="html"><tml:item name="unencoded" encode="html"/></tml:range>
</p>

<tml:script>
// Item encoding
assertEquals("Unencoded text", "tml", unencoded, "Hallo <b>User</b>!");
assertEquals("HTML-Encoded text", "tml", encoded, "Hallo &#60;b&#62;User&#60;/b&#62;!");

// Field mappings
assertEquals("Item mapping", "tml", this.item("itemmapping"), "ITEMMAPPING");
assertEquals("Meta mapping", "tml", this.meta("metamapping"), "METAMAPPING");

// Context changes
assertEquals("Change context to other db + root (without prefix 'path:')", "tml", this.context("db:inittest/root").TITLE, "Wilkommen be Innovation Gate!"); 
assertEquals("Change context to other db + root (with prefix 'path:')", "tml", this.context("path:db:inittest/root").TITLE, "Wilkommen be Innovation Gate!");
assertEquals("Change context per docid:uniquename", "tml", this.context("docid:keeponvalidate").TITLE, "keepOnValidate");
assertEquals("Change context per docid:structid", "tml", this.context("docid:8a8181dc07bd72370107bd76a2a10007").TITLE, "keepOnValidate");
assertEquals("Change context per area:areaname", "tml", this.context("area:online-help").TITLE, "Onlinehilfe");
assertEquals("Change context per docid:contentkey without language", "tml", this.context("docid:jjar-5xeqgv <de>").TITLE, "Contentpflege");
assertEquals("Change context per docid:contentkey with language", "tml", this.context("docid:jjar-5xeqgv <en>").TITLE, "Content Maintenance");
assertEquals("Change context per docid:contentkey with default language", "tml", this.context("docid:jjar-5xeqgv <>").TITLE, "Content Maintenance");
</tml:script>

Eingebundener encoding formatter: <tml:range var="encoder"><tml:range encode="encodertest">Drei Chinesen mit nem Kontrabass</tml:range></tml:range><br/>
Einbebundenes tml:element: <tml:range var="element"><tml:element name="elementtest"/></tml:range><br/>

<tml:script>
// Element and encoder including
assertEquals("Embedded encoding formatter", "tml", encoder, "Dr&uuml;&uuml; Ch&uuml;n&uuml;s&uuml;n m&uuml;t n&uuml;m K&uuml;ntr&uuml;b&uuml;ss");
assertEquals("Embedded tml:element", "tml", element, "This is element ElementTest!");
</tml:script>


<tml:range var="xml">
<doc>
	<sub>
		<content>content1</content>
	</sub>
	<sub>
		<content>content2</content>
	</sub>
</doc>
</tml:range>


<tml:comment>
	WGA5 - no XFiles DB anymore ... should be refactored
<tml:range context="db:xfiles-default/docid:home_doc1">
	<tml:range var="xpathAccess"><tml:item name="xml" xpath="doc/sub/content/text()" divider=":"/></tml:range>
</tml:range>

<tml:script>
// Xpath access to items
assertEquals("XPath-Access to XML-Items", "tml", xpathAccess, "content1:content2");
</tml:script>
</tml:comment>
</body>
</html>