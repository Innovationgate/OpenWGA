
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0Transitional//EN">
<html>
<head>
  <tml:htmlhead/> 
</head>
<body>
<PRE>
Test new implemented scriptlets in 4.1
</PRE>

<tml:range var="unresolvedScriptletCode">
ImgURL-Scriptlet: {@!imgurl:tv, lola.jpg@}
</tml:range>

<tml:range var="expectedScriptletCodeDefault">
ImgURL-Scriptlet: /WGAPublisher/<tml:meta type="db" name="dbkey"/>/file/tv/lola.jpg
</tml:range>

<tml:range var="expectedScriptletCodeDataURL">
ImgURL-Scriptlet: data:image/jpeg;base64,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
</tml:range>

<tml:range var="defaultScriptletCode" output="true"><tml:item name="unresolvedScriptletCode" encode="rtf"/></tml:range><br>
<tml:range var="dataURLScriptletCode" output="true"><tml:item name="unresolvedScriptletCode" encode="rtf:imgDataURL"/></tml:range><br>


<tml:script>
assertEquals("Default rtf encoded scriptletcode", "tmlscript", defaultScriptletCode, expectedScriptletCodeDefault);
assertEquals("DataURL rtf encoded scriptletcode", "tmlscript", dataURLScriptletCode, expectedScriptletCodeDataURL);
</tml:script>

<tml:warnings/>

</body>
</html>